% !Mode:: "TeX:DE:UTF-8:Main"
\RequirePackage{pdfmanagement-testphase}
\DeclareDocumentMetadata{}
\RequirePackage{tagpdf-regressiontest}
\documentclass{article}
\usepackage{tagpdf,iftex}
\tagpdfsetup{activate}
\iftutex
  \usepackage{fontspec}
  \usepackage{luacode}
\else
  \usepackage[T1]{fontenc}
\fi

\begin{document}
\pagestyle{empty}

\tagstructbegin{tag=Document}

Etwas unmarkierter Text. %isn't read by voice software

%alttext is read, actualtext copy & pasted
\tagstructbegin{tag=P,alttext=Dies ist ein Text,actualtext=Copy}
  \tagmcbegin{tag=P}
   Test
  \tagmcend
\tagstructend

\newcommand\myalttext{Dies ist ein Text}
\newcommand\myactualtext{Copy}
\tagstructbegin{tag=P,alttext=\myalttext,actualtext=\myactualtext}
  \tagmcbegin{tag=P}
   Test
  \tagmcend
\tagstructend

\tagstructbegin{tag=P}
 \tagmcbegin{tag=P,alttext=Dies ist ein Text,actualtext=Copy}
  Test
 \tagmcend
\tagstructend

\tagstructbegin{tag=P}
 \tagmcbegin{tag=P,alttext=\myalttext,actualtext=\myactualtext}
  Test
 \tagmcend
\tagstructend
\end{document}
