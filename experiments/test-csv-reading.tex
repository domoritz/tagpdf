% !Mode:: "TeX:UTF-8:Main"
\DocumentMetadata{uncompress,testphase=phase-II,debug={log=v},pdfversion=2.0}
%\DocumentMetadata{uncompress,testphase=phase-II,debug={log=v},pdfversion=1.7}
\documentclass{article}

\begin{document}
\ExplSyntaxOn


 
%    \end{macrocode}
% TODO handle mathml tags
%    \begin{macrocode}
%\intarray_show:N \g__tag_role_parent_child_intarray
%    \end{macrocode}
% Testing tags.
%    \begin{macrocode}

\msg_redirect_name:nnn { tag } { role-parent-child } { note }

%\prop_show:N\g__tag_role_index_prop  \cs_generate_variant:Nn  
%\__tag_role_get_parent_child_rule:nnN {VVN} 
%    \end{macrocode}
\tagstructbegin{tag=P}

%\__tag_role_get_parent_child_rule:nnN {Document}{P}\l_tmpa_tl
%%\tl_show:N\l_tmpa_tl
%
%\__tag_role_get_parent_child_rule:nnN {Span}{P}\l_tmpa_tl
%%\tl_show:N\l_tmpa_tl
%
%\__tag_role_get_parent_child_rule:nnN {Part}{H1}\l_tmpa_tl
%%\tl_show:N\l_tmpa_tl
%
%\__tag_role_get_parent_child_rule:nnN {Blub}{H1}\l_tmpa_tl



 
%\tag_check_parent_child:nnN {section}{subsection}\l_tmpa_tl

\tagpdfsetup{add-new-tag=ssection/section}


%\prop_show:N\g__tag_role_rolemap_prop
%\pdfdict_show:n {g__tag_role/RoleMap_dict}
%\tag_check_parent_child:nnN {Title}{Part}\l_tmpa_tl
%\tag_check_parent_child:nnN {Part}{Div}\l_tmpa_tl
%\tag_check_parent_child:nnN {section}{P}\l_tmpa_tl
%\tag_check_parent_child:nnN {subsection}{Document}\l_tmpa_tl
%\tag_check_parent_child:nnN {blub}{Document}\l_tmpa_tl
\__tag_check_parent_child:nnN {section}{subsection}\l_tmpa_tl 
\__tag_check_parent_child:nnN {ssection}{Span}\l_tmpa_tl yyyyyyyyyyyy 
\__tag_check_parent_child:nnN {H8}{Span}\l_tmpa_tl 

\__tag_check_parent_child:nnN {Formula}{math}\l_tmpa_tl 
\__tag_check_parent_child:nnN {math}{mi}\l_tmpa_tl 
\__tag_check_parent_child:nnN {mi}{mi}\l_tmpa_tl 
\__tag_check_parent_child:nnN 
{mi}{P}\l_tmpa_tl 
\__tag_check_parent_child:nnN {Title}{Part}\l_tmpa_tl 

\tagstructend
%\edef\blub {\intarray_item:Nn \g__tag_role_parent_child_intarray {1}}\show\blub
\ExplSyntaxOff
\end{document} 
